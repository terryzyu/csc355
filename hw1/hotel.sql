DROP TABLE RESERVATION;
DROP TABLE TRAVELER;
DROP TABLE HOTEL;

CREATE TABLE TRAVELER(
    ID CHAR(9),
    FirstName VARCHAR2(15),
    LastName VARCHAR2(15),
    Phone CHAR(10),
    
    CONSTRAINT TravelerPK
        PRIMARY KEY(ID)
);

CREATE TABLE HOTEL(
	ID CHAR(4),
	HotelName VARCHAR2(20),
	City VARCHAR2(20),

	CONSTRAINT HotelPK
		PRIMARY KEY(ID)
);

CREATE TABLE RESERVATION(
	TravelerID CHAR(9),
	HotelID CHAR(4),
	StartDate DATE,
	EndDate DATE,
	Confirmation VARCHAR2(10),

	CONSTRAINT RPK
		PRIMARY KEY(TravelerID, HotelID, StartDate),

	CONSTRAINT RFK1
		FOREIGN KEY(TravelerID)
			REFERENCES TRAVELER(ID),

	CONSTRAINT RFK2
		FOREIGN KEY(HotelID)
			REFERENCES HOTEL(ID)
);

INSERT INTO HOTEL VALUES(12, 'Palmer House', 'Chicago');
INSERT INTO HOTEL VALUES(43, 'Grand Union', 'Fort Benton');
INSERT INTO HOTEL VALUES(5, 'The Venetian', 'Las Vegas');
INSERT INTO HOTEL VALUES(1, 'The Plaza', 'New York City');

INSERT INTO TRAVELER VALUES(938574839, 'Terry', 'Yu', '6309999999');
INSERT INTO TRAVELER VALUES(123546987, 'Joe', 'Mouse', '1234567890');
INSERT INTO TRAVELER VALUES(569845123, 'Abe', 'Song', '5963214789');


SELECT * FROM HOTEL; --Display HOTEL table
SELECT * FROM TRAVELER; --Display TRAVELER table

INSERT INTO RESERVATION VALUES(938574839, 43, '16-FEB-2016', '11-MAR-2016', 1233214327);
INSERT INTO RESERVATION VALUES(123546987, 5, '01-MAR-2016', '21-MAR-2016', 9874563211);
INSERT INTO RESERVATION VALUES(569845123, 1, '25-JUN-2016', '08-AUG-2016', 6547893215);
INSERT INTO RESERVATION VALUES(938574839, 5, '05-JUL-2016', '08-AUG-2016', 5412369872);
INSERT INTO RESERVATION VALUES(938574839, 43, '12-JAN-2016', '01-FEB-2016', 3036985214);
INSERT INTO RESERVATION VALUES(123546987, 12, '19-OCT-2016', NULL, 8523697416);

SELECT * FROM RESERVATION;
